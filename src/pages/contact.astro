---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import ContactForm from '../components/ContactForm';
import { getSiteSettings } from '../lib/sanity';

const settings = await getSiteSettings();

const businessEmail = settings?.email || 'hello@jessdogsitting.com';
const businessPhone = settings?.phone || '(123) 456-7890';
const serviceArea = settings?.location || 'Your Local Area & Surroundings';
const instagramUrl = settings?.socialLinks?.instagram || 'https://instagram.com';
const facebookUrl = settings?.socialLinks?.facebook || 'https://facebook.com';
---

<Layout title="Contact" description="Get in touch with Jess for dog sitting services">
  <div class="contact-page">
    <Hero 
      title="Get in Touch" 
      subtitle="Ready to give your pup the best care? Let's chat!"
    />

    <section class="section contact-section">
      <div class="container">
        <div class="contact-grid">
          <div class="form-wrapper">
            <h2>Send a Message</h2>
            <p class="form-subtitle">Fill out the form below and I'll get back to you within 24 hours!</p>
            <ContactForm client:load />
          </div>

          <div class="info-wrapper">
            <div class="info-card">
              <h3>Other Ways to Reach Me</h3>
              
              <div class="info-item">
                <span class="icon">üìß</span>
                <div>
                  <strong>Email</strong>
                  <a href={`mailto:${businessEmail}`}>{businessEmail}</a>
                </div>
              </div>

              <div class="info-item">
                <span class="icon">üìû</span>
                <div>
                  <strong>Phone</strong>
                  <a href={`tel:${businessPhone.replace(/\D/g, '')}`}>{businessPhone}</a>
                </div>
              </div>

              <div class="info-item">
                <span class="icon">üìç</span>
                <div>
                  <strong>Service Area</strong>
                  <span>{serviceArea}</span>
                </div>
              </div>

              <div class="info-item">
                <span class="icon">‚è∞</span>
                <div>
                  <strong>Response Time</strong>
                  <span>Usually within 24 hours</span>
                </div>
              </div>
            </div>

            <div class="social-card">
              <h3>Follow Along!</h3>
              <p>See daily adventures and happy pups on social media.</p>
              <div class="social-links">
                <a href={instagramUrl} target="_blank" rel="noopener noreferrer" class="social-link">
                  üì∏ Instagram
                </a>
                <a href={facebookUrl} target="_blank" rel="noopener noreferrer" class="social-link">
                  üëç Facebook
                </a>
              </div>
            </div>

            <div class="faq-card">
              <h3>Quick FAQs</h3>
              <div class="faq-item">
                <strong>Do you offer meet & greets?</strong>
                <p>Yes! Free initial meetings are included so we can all get acquainted.</p>
              </div>
              <div class="faq-item">
                <strong>What if my dog has special needs?</strong>
                <p>No problem! I'm experienced with medication, dietary restrictions, and more.</p>
              </div>
              <div class="faq-item">
                <strong>How far in advance should I book?</strong>
                <p>For regular visits, a few days is fine. For holidays, book 2-4 weeks ahead.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</Layout>

<style>
  .contact-section {
    background-color: var(--color-background);
  }

  .contact-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-3xl);
  }

  .form-wrapper {
    background: var(--color-surface);
    padding: var(--space-2xl);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
  }

  .form-wrapper h2 {
    margin-bottom: var(--space-sm);
  }

  .form-subtitle {
    color: var(--color-text-muted);
    margin-bottom: var(--space-xl);
  }

  .info-wrapper {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
  }

  .info-card, .social-card, .faq-card {
    background: var(--color-surface);
    padding: var(--space-xl);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
  }

  .info-card h3, .social-card h3, .faq-card h3 {
    margin-bottom: var(--space-lg);
    color: var(--color-primary);
  }

  .info-item {
    display: flex;
    gap: var(--space-md);
    padding: var(--space-md) 0;
    border-bottom: 1px solid var(--color-sand);
  }

  .info-item:last-child {
    border-bottom: none;
  }

  .icon {
    font-size: 1.5rem;
  }

  .info-item strong {
    display: block;
    margin-bottom: var(--space-xs);
  }

  .info-item a {
    color: var(--color-primary);
  }

  .social-card p {
    color: var(--color-text-muted);
    margin-bottom: var(--space-lg);
  }

  .social-links {
    display: flex;
    gap: var(--space-md);
  }

  .social-link {
    padding: var(--space-md) var(--space-lg);
    background: var(--color-cream);
    border-radius: var(--radius-md);
    font-weight: 500;
    transition: all var(--transition-fast);
  }

  .social-link:hover {
    background: var(--color-sand);
  }

  .faq-item {
    padding: var(--space-md) 0;
    border-bottom: 1px solid var(--color-sand);
  }

  .faq-item:last-child {
    border-bottom: none;
  }

  .faq-item strong {
    display: block;
    margin-bottom: var(--space-sm);
  }

  .faq-item p {
    color: var(--color-text-muted);
    font-size: var(--text-sm);
  }

  @media (max-width: 1024px) {
    .contact-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

